{"version":3,"sources":["components/filter.js","service/persons.js","components/form.js","components/person.js","components/message.js","App.js","index.js"],"names":["Filter","persons","useState","personToShow","setPersonToShow","searchTerm","setSearchTerm","value","onChange","event","target","filter","e","toLowerCase","startsWith","map","console","log","name","i","number","baseUrl","service","getAll","axios","get","then","response","data","update","id","newObj","put","addContact","newContact","post","removeContact","delete","PersonForm","setPersons","setError","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","p","exists","forEach","window","confirm","message","color","setTimeout","catch","error","concat","type","Persons","onClick","toString","newList","Message","footerStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b2ad7fe9.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst Filter = ({ persons }) => {\r\n    const [personToShow, setPersonToShow] = useState([])\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n\r\n    const handleChange = (event) => {\r\n        setSearchTerm(event.target.value)\r\n        if (event.target.value !== '') {\r\n          setPersonToShow(persons.filter((e) => e['name'].toLowerCase().startsWith(event.target.value.toLowerCase())))\r\n        } else {\r\n            setPersonToShow([])\r\n        }\r\n\r\n        personToShow.map((e) => console.log(e.name))\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                filter shown with  <input value={searchTerm} onChange={handleChange} />\r\n            </div>\r\n            {\r\n                personToShow.map(\r\n                    (e, i) => <div key={e.name + i}>{e.name} {e.number}</div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst addContact = newContact => {\r\n    return axios.post(baseUrl, newContact).then(response => response.data)\r\n}\r\n\r\nconst removeContact = id => {\r\n    // console.log(`${baseUrl}/1`)\r\n    return axios.delete(`${baseUrl}/${id}`).then(response => response)\r\n\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObj).then(response => response.data)\r\n}\r\n\r\nconst service = {\r\n    getAll,\r\n    update,\r\n    addContact,\r\n    removeContact\r\n}\r\n\r\nexport default service","import React, { useState } from 'react'\r\nimport service from '../service/persons'\r\n\r\nconst PersonForm = ({ persons, setPersons, setError }) => {\r\n\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n\r\n    const handleNameChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        console.log(event.target.value);\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const addNumber = (event) => {\r\n        event.preventDefault()\r\n        var exists = false\r\n        var p\r\n        persons.forEach(function (e) {\r\n            if (e['name'].toLowerCase() === newName.toLowerCase()) {\r\n                exists = true\r\n                p = e\r\n            }\r\n        })\r\n        if (!exists) {\r\n            const newContact = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n            service.addContact(newContact)\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setPersons(persons.concat(response))\r\n                    setError({ message: `Added ${newName}`, color: 'green' })\r\n                    setTimeout(() => {\r\n                        setError({ message: null, color: 'green' })\r\n                    }, 2000)\r\n                }\r\n                ).catch(error => {\r\n                    setError({ message: error.response.data.error, color: 'red' })\r\n                    setTimeout(() => {\r\n                        setError({ message: null, color: 'green' })\r\n                    }, 2000)\r\n                })\r\n        } else {\r\n            if (window.confirm(newName + ' is already added to phonebook , replace the old number with a new one?')) {\r\n                const newContact = {\r\n                    name: p['name'],\r\n                    number: newNumber\r\n                }\r\n                // console.log(newContact)\r\n                service.update(p.id, newContact)\r\n                    .then(response => {\r\n                        setPersons(persons.map(e => e.id !== response.id ? e : response))\r\n                        setError({ message: `Updated ${newName}`, color: 'green' })\r\n                        setTimeout(() => {\r\n                            setError({ message: null, color: 'green' })\r\n                        }, 2000)\r\n                    })\r\n                    .catch(error => {\r\n                        console.log('error', error)\r\n                        setError({ message: `Information of ${newName} has already been removed from server`, color: 'red' })\r\n                        setTimeout(() => {\r\n                            setError({ message: null, color: 'green' })\r\n                        }, 2000)\r\n                    })\r\n            }\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={addNumber}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import service from \"../service/persons\"\r\n\r\nconst Persons = ({ persons, setPersons, setError }) => {\r\n\r\n\r\n    const onClick = (event) => {\r\n        const p = persons.filter(e => {\r\n            return e.id.toString() === event.target.id\r\n        })\r\n        if (window.confirm(`Delete ${p[0].name} ?`)) {\r\n            service.removeContact(event.target.id)\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setError({ message: `Deleted ${p[0].name}`, color: 'green' })\r\n                    setTimeout(() => {\r\n                        setError({ message: null, color: 'red' })\r\n                    }, 2000)\r\n                })\r\n                .catch(error => {\r\n                    console.log('error', error)\r\n                    setError({ message: `Information of ${p[0].name} has already been removed from server`, color: 'red' })\r\n                    setTimeout(() => {\r\n                        setError({ message: null, color: 'green' })\r\n                    }, 2000)\r\n                })\r\n            const newList = persons.filter(e => e.id.toString() !== event.target.id)\r\n            setPersons(newList)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                persons.map(\r\n                    (e, i) =>\r\n                        <div key={e.name + i}>\r\n                            {e.name} {e.number}\r\n                            <button id={e.id} onClick={onClick} > delete</button>\r\n                        </div >\r\n                )\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Persons","const Message = ({ error }) => {\r\n    if (error.message === null)\r\n        return null\r\n    const footerStyle = {\r\n        color: error.color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={footerStyle} >\r\n            {error.message}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/filter'\r\nimport PersonForm from './components/form'\r\nimport Persons from './components/person'\r\nimport service from './service/persons'\r\nimport Message from './components/message'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [error, setError] = useState({ message: null, color: 'red' })\r\n\r\n  const hooks = () => {\r\n    service.getAll()\r\n      .then((response) => {\r\n        console.log(response)\r\n        setPersons(response)\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error)\r\n        setError({\r\n          message: 'some error happened...', color: 'red'\r\n        })\r\n        setTimeout(() => {\r\n          setError({ message: null, color: 'green' })\r\n        }, 2000)\r\n      })\r\n  }\r\n  useEffect(hooks, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Message error={error} />\r\n      <Filter persons={persons} />\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm persons={persons} setPersons={setPersons} setError={setError} />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons persons={persons} setPersons={setPersons} setError={setError} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}